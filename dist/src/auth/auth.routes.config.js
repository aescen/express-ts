"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const express_validator_1=require("express-validator"),common_routes_config_1=__importDefault(require("../common/common.routes.config")),auth_controller_1=__importDefault(require("./controllers/auth.controller")),auth_middleware_1=__importDefault(require("./middleware/auth.middleware")),body_validation_middleware_1=__importDefault(require("../common/middleware/body.validation.middleware")),jwt_middleware_1=__importDefault(require("./middleware/jwt.middleware"));class AuthRoutes extends common_routes_config_1.default{constructor(e){super(e,"AuthRoutes")}configureRoutes(){return this.app.post("/auth",[(0,express_validator_1.body)("email").isEmail(),(0,express_validator_1.body)("password").isString(),body_validation_middleware_1.default.verifyBodyFieldsErrors,auth_middleware_1.default.verifyUserPassword,auth_controller_1.default.createJwt]),this.app.post("/auth/refresh-token",[jwt_middleware_1.default.validJwtNeeded,jwt_middleware_1.default.verifyRefreshBodyField,jwt_middleware_1.default.validRefreshNeeded,auth_controller_1.default.createJwt]),this.app}}exports.default=AuthRoutes;